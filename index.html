<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surya Estate Agents</title>

    <!-- Bulma is a CSS "framework" that means we do not write as much of our own CSS -->
    <!-- it provides various pre-made components that we can make use of -->
    <!-- https://bulma.io -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">

    <!-- This is importing FontAwesome, a kit that allows us to include simple icons on our webpages  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <!-- For some things we may wish to style them ourselves manually -->
    <link rel="stylesheet" href="css/style.css">
</head>

<!-- when the page loads, it will run this JavaScript function to sort and show the properties -->
<body onload="showProperties('low-to-high')">
    <!-- The navigation bar that appears at the top of each page -->
    <!-- Adding the "navbar" class tells Bulma how to style it -->
    <!-- "is-dark" tells Bulma to use a dark style -->
    <!-- "is-spaced" and "has-shadow" add more spacing and add a shadow -->
    <nav class="navbar is-dark is-spaced has-shadow">
        <!-- "navbar-brand" is where we can place the website logo or name -->
        <div class="navbar-brand">
            <!-- placing "estate agents" in a span element allows us to style it separately -->
            <h1>Surya <span>Estate Agents</span></h1>
        </div>

        <!-- navbar-menu contains the actual links in the menu -->
        <div class="navbar-menu">
            <!-- Container for things that are aligned to the left of the navigation -->
            <div class="navbar-start">
                <a href="/" class="navbar-item">Browse Properties</a>
            </div>

            <!-- Container for things that are aligned to the right of the navigation -->
            <div class="navbar-end">
                <!-- Links to log in and register -->
                <a href="javascript:alert('not implemented')" class="navbar-item">Register</a>
                <a href="javascript:alert('not implemented')" class="navbar-item button is-black">Existing Customers</a>
            </div>
        </div>
    </nav>

    <!-- The page header containing the title of the page -->
    <!-- "hero" is a common term for this, especially if it takes up a lot of the page -->
    <!-- "is-info" sets the background colour to an informational one; bulma's default is blue -->
    <header class="hero is-info">
        <div class="hero-body">
            <h1 class="title">Property Listing</h1>
            <h2 class="subtitle">All the properties we have available</h2>
        </div>
    </header>


    <!-- The main content of the page -->
    <!-- "container" constrains the width of the element and horizontally centres it on the page -->
    <main class="container box">
        <!-- each distinct section on the page is wrapped in a "section" element -->
        <!-- as previously, the "section" class tells bulma that we want this to be styled like a section -->
        <section class="section">

            <!-- this tells bulma we want to create columns -->
            <div class="columns">
                <!-- the "children" of "columns" will have the "column" class -->

                <div class="column">
                    <!-- this is a selector to filter by property type, using Bulma's "tabs" component -->
                    <!-- https://bulma.io/documentation/components/tabs/ -->

                    <div class="tabs is-toggle is-medium is-toggle-rounded is-pulled-left">
                        <ul>
                            <li class="is-active" id="filter-all">
                                <a href="javascript:updateFilter('all')">
                                    <span class="icon is-small"><i class="fas fa-check-double"></i></span>
                                    <span>All</span>
                                </a>
                            </li>
                            <li id="filter-houses">
                                <a href="javascript:updateFilter('houses')">
                                    <span class="icon is-small"><i class="fas fa-home"></i></span>
                                    <span>Houses</span>
                                </a>
                            </li>
                            <li id="filter-flats">
                                <a href="javascript:updateFilter('flats')">
                                    <span class="icon is-small"><i class="fas fa-building"></i></span>
                                    <span>Flats</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="column">
                    <!-- this control element allows bulma to add an icon to the left of the select element -->
                    <div class="control has-icons-left is-pulled-right">
                        <div class="select is-medium is-rounded">
                            <!-- "onchange" will run a JavaScript function whenever the selection changes -->
                            <!-- in this case, it runs "sortAndShowProperties" and passes through the currently selected option's value -->
                            <select onchange="showProperties(this.value)" id="sorter">
                                <!-- "selected" means it is the default value for the selection -->
                                <option value="low-to-high" selected="selected">Price (Low&raquo;High)</option>
                                <option value="high-to-low">Price (High&raquo;Low)</option>
                                <option value="weighted">Random</option>
                            </select>
                        </div>

                        <span class="icon is-left">
                            <!-- this is an icon from FontAwesome -->
                            <!-- in this case, the "sort" icon -->
                            <!-- https://fontawesome.com/v5.15/icons/sort?style=solid -->
                            <i class="fas fa-sort"></i>
                        </span>
                    </div>
                </div>
            </div>
        </section>


        <section class="section">
            <!-- In this section we will have the list of properties -->
            <!-- This will be generated using JavaScript from a file -->

            <!-- giving an element an ID allows us to use it more easilly in JavaScript -->
            <!-- "is-multiline" allows our columns to have multiple rows -->
            <div class="columns is-multiline" id="property-listing">
                <!-- Anything in in here will be overwritten by the JavaScript -->
                <p><i class="fas fa-fw fa-spin fa-circle-notch"></i> Loading Properties!</p>
            </div>
        </section>
    </main>

    <!-- The page footer -->
    <footer>
        <!-- TODO: footer -->
    </footer>

    <!-- this file contains our list of properties -->
    <script src="js/-properties.js"></script>
    <!-- this file contains for listing and sorting the elements -->
    <script src="js/listing.js"></script>
    <!-- this file contains for filtering properties -->
    <script src="js/filtering.js"></script>

</body>

</html>